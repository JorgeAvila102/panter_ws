<?xml version="1.0"?>

<sdf version='1.9'>
  <model name='panter'>
    <pose>0 0 1 0 0 0</pose>

<!-- CHASIS -->

    <link name='CH'>

      <inertial>
        <!-- <pose>-0.00880173011979828 0.6226795868207859 0.409100824362744 0 0 0</pose> -->
        <pose>-0.00880173011979828 -0.4226795868207859 0.673550824362744 0 0 0</pose>
        <mass>343</mass>
        <inertia>
          <ixx>210.9428277</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>79.04789433</iyy>
          <iyz>0</iyz>
          <izz>260.5199333</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 -0.44 0.675 0 0 0</pose>
        <geometry>
          <box>
            <size>1.5 2.62 0.718</size>
          </box>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/CH.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.4 0.4 0.4 1</diffuse>
          <ambient>0.4 0.4 0.4 1</ambient>
        </material>
      </visual>

    </link>

<!-- ###################### EJE DELANTERO ######################-->

<!-- PISTÓN AMORTIGUADOR DELANTERO DERECHO -->

    <link name='SD01_PISTON_DCH'>
      <pose relative_to='SD01_PISTON_DCH_joint'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>0.0147151277156394 -0.0466016638374874 -0.188936395717115 0 0 0</pose>
        <mass>1.5644373485476</mass>
        <inertia>
          <ixx>0.0054735160173384201</ixx>
          <ixy>0.0002025684338576</ixy>
          <ixz>0.000799273132675563</ixz>
          <iyy>0.0053176293368268302</iyy>
          <iyz>-0.0011458003645297</iyz>
          <izz>0.00103217687096616</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD01_PISTON_DCH.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD01_PISTON_DCH.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>


    <joint name='SD01_PISTON_DCH_joint' type='fixed'>
      <pose relative_to='CH'>-0.364 -1.4515 0.85213 1.8129 0.16755 1.5708</pose>
      <parent>CH</parent>
      <child>SD01_PISTON_DCH</child>
    </joint>

<!-- CUERPO AMORTIGUADOR DELANTERO DERECHO -->

    <link name='SD01_BODY_DCH'>
      <pose relative_to='SD01_BODY_DCH_joint'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>0.0147151277156394 -0.0466016638374874 -0.188936395717115 0 0 0</pose>
        <mass>1.5644373485476</mass>
        <inertia>
          <ixx>0.0054735160173384201</ixx>
          <ixy>0.0002025684338576</ixy>
          <ixz>0.000799273132675563</ixz>
          <iyy>0.0053176293368268302</iyy>
          <iyz>-0.0011458003645297</iyz>
          <izz>0.00103217687096616</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD01_BODY_DCH.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD01_BODY_DCH.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>


    <joint name='SD01_BODY_DCH_joint' type='prismatic'>
      <pose relative_to='SD01_PISTON_DCH'>0 -0.3815 0 3.1416 0.093703 3.1416</pose>
      <parent>SD01_PISTON_DCH</parent>
      <child>SD01_BODY_DCH</child>
      <axis>
        <xyz>0 1 0</xyz>
        <use_parent_model_frame>false</use_parent_model_frame>
        <limit>
          <lower>0</lower>
          <upper>0</upper>
          <effort>0</effort>
          <velocity>0</velocity>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>  <!-- Referencia del resorte -->
          <spring_stiffness>10</spring_stiffness>  <!-- Rigidez del resorte -->
        </dynamics>
      </axis>
    </joint>

<!-- BRAZO DELANTERO SUSPENSION SUPERIOR DERECHO -->

    <link name='SD02_DCH'>
      <pose relative_to='SD02_DCH_CH_joint'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>-0.1087663182382292 -0.2973823518047529 -0.1447752478166711 0 0 0</pose>
        <mass>0.66380871842496503</mass>
        <inertia>
          <ixx>0.01698734695551703</ixx>
          <ixy>-0.00083687007279527673</ixy>
          <ixz>-0.00043029889831467001</ixz>
          <iyy>0.0050539985067045894</iyy>
          <iyz>-0.0069223924605502883</iyz>
          <izz>0.01337316597985665</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD02_DCH.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD02_DCH.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='SD02_DCH_CH_joint' type='revolute'>
      <pose relative_to='CH'>-0.1865 -1.6482 0.53091 0 0 -1.5708</pose>
      <parent>CH</parent>
      <child>SD02_DCH</child>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>0</lower>
          <upper>0</upper>
          <effort>0</effort>
          <velocity>0</velocity>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>

<!-- BRAZO DELANTERO SUSPENSION INFERIOR DERECHA -->

    <link name='SD03_DCH'>
      <pose relative_to='SD03_DCH_CH_joint'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>-0.09795184720365779 -0.169078002158508 -0.07649493446681931 0 0 0</pose>
        <mass>0.39524126003458698</mass>
        <inertia>
          <ixx>0.0050301102362627099</ixx>
          <ixy>0.000168676429607526</ixy>
          <ixz>4.7840023879892099e-05</ixz>
          <iyy>0.00114327113657789</iyy>
          <iyz>-0.0017776660568389201</iyz>
          <izz>0.0046170680768928603</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD03_DCH.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD03_DCH.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='SD03_DCH_CH_joint' type='revolute'>
      <pose relative_to='CH'>-0.151 -1.6306 0.37054 0 0 -1.5708</pose>
      <parent>CH</parent>
      <child>SD03_DCH</child>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>0</lower>
          <upper>0</upper>
          <effort>0</effort>
          <velocity>0</velocity>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>


<!-- MANGUETA DELANTERA DERECHA -->

    <link name='MGD_DCH'>
      <pose relative_to='SD02_DCH'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>-0.00499672613858615 0.101475946327662 0.0231953048014176 0 0 0</pose>
        <mass>0.66380871842496503</mass>
        <inertia>
          <ixx>0.01698734695551703</ixx>
          <ixy>-0.00083687007279527673</ixy>
          <ixz>-0.00043029889831467001</ixz>
          <iyy>0.0050539985067045894</iyy>
          <iyz>-0.0069223924605502883</iyz>
          <izz>0.01337316597985665</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>-0.11198 -0.51968 -0.24274 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/MGD_DCH.STL</uri>
          </mesh>
        </geometry>
      </collision> 

      <visual name='visual'>
        <pose>-0.11198 -0.51968 -0.24274 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/MGD_DCH.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.990196 1 1 1</diffuse>
          <ambient>0.990196 1 1 1</ambient>
        </material>
      </visual>

    </link> 

    <joint name='MGD_DCH_SUP_joint' type='revolute'>
      <!-- <pose relative_to='SD02_DCH'>-0.11198 -0.51968 -0.24274 0 -0 0</pose> -->
      <pose relative_to='CH'>-0.5819 -1.5301 0.4078 0 -0 0</pose>
      <parent>SD02_DCH</parent>
      <child>MGD_DCH</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-0.52</lower>
          <upper>0.52</upper>
          <effort>500000</effort>
          <velocity>1</velocity>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>

<!-- RUEDA DELANTERA DERECHA -->

    <link name='ED_DCH'>
      <pose relative_to='ED_DCH_joint'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>2.29121924788522e-06 0.0201749464629289 0.00146310372559588 0 0 0</pose>
        <!-- <pose>2.29121924788522e-06 0 0.00146310372559588 0 0 0</pose> -->
        <mass>29.142830569802499</mass>
        <!-- <mass>29</mass> -->
        <inertia>
          <ixx>0.813595259424299</ixx>
          <ixy>1.6609911692007001e-08</ixy>
          <ixz>1.6098060994306599e-09</ixz>
          <iyy>1.43679321483636</iyy>
          <iyz>0.0454494090796915</iyz>
          <izz>0.816909826703764</izz>
        </inertia>    
      </inertial> 

      <collision name='collision'>
        <!-- <pose>0 0 0 -1.5707 0 0</pose> -->
        <pose>0 -0.0065 0 0 1.5707 1.5707</pose>
        <geometry>
          <cylinder>
            <radius>0.343</radius>  <!-- Radio de 0.2 m -->
            <length>0.23</length>  <!-- Altura de 0.5 m -->
          </cylinder>
        </geometry>
          <surface>
        <friction>
          <ode>
            <mu>1.1</mu>
            <mu2>1.1</mu2>
          </ode>
        </friction>
        <!-- <contact>
            <ode>
              <min_depth>0.001</min_depth>
              <kp>1000000000</kp>
            </ode>
          </contact> -->
      </surface>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 -1.5707 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ED_DCH.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.1 0.1 0.1 1</diffuse>
          <ambient>0.1 0.1 0.1 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='ED_DCH_joint' type='revolute'>
      <pose relative_to='SD02_DCH'>-0.11198 -0.51968 -0.24274 0 0 0</pose>
      <parent>MGD_DCH</parent>
      <child>ED_DCH</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-10000000000000000</lower>
          <upper>10000000000000000</upper>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>0.2</damping> <!-- también ayuda a la estabilidad -->
        </dynamics>
      </axis>
      <physics>
        <ode>
          <friction>
            <ode>
              <mu>0.9</mu>    <!-- Fricción en la dirección principal -->
              <mu2>0.8</mu2>  <!-- Fricción lateral -->
            </ode>
          </friction>
        </ode>
      </physics>
    </joint>

<!-- PISTON AMORTIGUADOR DELANTERO IZQUIERDO -->

    <link name='SD01_PISTON_IZQ'>
      <pose relative_to='CH'>0.364 -1.4515 0.85213 1.8129 -0.16755 -1.5708</pose>

      <inertial>
        <pose>0.00849916904573988 0.0657819927228204 -0.159438279696458 0 0 0</pose>
        <mass>1.6865239792604101</mass>
        <inertia>
          <ixx>0.0063338001559970197</ixx>
          <ixy>-1.45261475353967e-05</ixy>
          <ixz>3.5266726696435297e-05</ixz>
          <iyy>0.0055250803137681997</iyy>
          <iyz>0.0019468091581656001</iyz>
          <izz>0.00160836691478163</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD01_PISTON_IZQ.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD01_PISTON_IZQ.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='SD01_PISTON_IZQ_joint' type='fixed'>
      <pose relative_to='CH'>0.364 -1.4515 0.85213 1.8129 -0.16755 -1.5708</pose>
      <parent>CH</parent>
      <child>SD01_PISTON_IZQ</child>
    </joint>


<!-- CUERPO AMORTIGUADOR DELANTERO IZQUIERDO -->

    <link name='SD01_BODY_IZQ'>
      <pose relative_to='SD01_PISTON_IZQ'>0 -0.3815 0 3.1416 0.093703 -3.1416</pose>

      <inertial>
        <pose>0.00849916904573988 0.0657819927228204 -0.159438279696458 0 0 0</pose>
        <mass>1.6865239792604101</mass>
        <inertia>
          <ixx>0.0063338001559970197</ixx>
          <ixy>-1.45261475353967e-05</ixy>
          <ixz>3.5266726696435297e-05</ixz>
          <iyy>0.0055250803137681997</iyy>
          <iyz>0.0019468091581656001</iyz>
          <izz>0.00160836691478163</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD01_BODY_IZQ.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD01_BODY_IZQ.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='SD01_BODY_IZQ_joint' type='prismatic'>
      <!-- <pose relative_to='CH'>0.3275 0.66468 0.79122 0 0 -1.5708</pose> -->
      <pose relative_to='SD01_PISTON_IZQ'>0 -0.3815 0 3.1416 0.093703 -3.1416</pose>
      <parent>SD01_PISTON_IZQ</parent>
      <child>SD01_BODY_IZQ</child>
      <axis>
        <xyz>0 1 0</xyz>
        <!-- <xyz>0.1596 0.8727 -0.4628</xyz> -->
        <use_parent_model_frame>false</use_parent_model_frame>
        <limit>
          <lower>0</lower>     <!-- m -->
          <upper>0.3</upper>
          <effort>4000</effort>   <!-- N -->
          <velocity>0</velocity>    <!-- Límete en m/s -->
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>15000</spring_stiffness>
        </dynamics>
      </axis>
    </joint>


<!-- BRAZO DELANTERO SUSPENSION SUPERIOR IZQUIERDA -->

    <link name='SD02_IZQ'>
      <pose relative_to='SD02_IZQ_CH_joint'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>-0.1133703115010046 0.1621182424082311 -0.1160946284954628 0 0 0</pose>
        <mass>1.280205693056365</mass>
        <inertia>
          <ixx>0.049317670380361653</ixx>
          <ixy>0.00043968632795071341</ixy>
          <ixz>-0.00033154494803605197</ixz>
          <iyy>0.014709835062025479</iyy>
          <iyz>0.020762005517170098</iyz>
          <izz>0.037492705463795607</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD02_IZQ.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD02_IZQ.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link> 

    <joint name='SD02_IZQ_CH_joint' type='revolute'>
      <pose relative_to='CH'>0.1865 -1.6482 0.53091 0 0 -1.5708</pose>
      <parent>CH</parent>
      <child>SD02_IZQ</child>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>0</lower>
          <upper>0</upper>
          <effort>0</effort>
          <velocity>0</velocity>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>

<!-- BRAZO DELANTERO SUSPENSION INFERIOR IZQUIERDA -->

    <link name='SD03_IZQ'>
      <pose relative_to='SD03_IZQ_CH_joint'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>-0.09736755152887699 0.158067753702783 -0.06966068353578229 0 0 0</pose>
        <mass>0.46889861481981798</mass>
        <inertia>
          <ixx>0.0050591155785237804</ixx>
          <ixy>-0.000121765335801827</ixy>
          <ixz>1.81818642259916e-05</ixz>
          <iyy>0.00122147601558512</iyy>
          <iyz>0.0017413610960066201</iyz>
          <izz>0.0047991710550899097</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD03_IZQ.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/SD03_IZQ.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='SD03_IZQ_CH_joint' type='revolute'>
      <pose relative_to='CH'>0.151 -1.6306 0.37054 0 0 -1.5708</pose>
      <parent>CH</parent>
      <child>SD03_IZQ</child>
      <axis>
        <xyz>1 0 0.07</xyz>
        <limit>
          <!-- <lower>-3.1415899999999999</lower>
          <upper>3.1415899999999999</upper>
          <effort>1000</effort>
          <velocity>50</velocity> -->
          <lower>0</lower>
          <upper>0</upper>
          <effort>0</effort>
          <velocity>0</velocity>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>

<!-- MANGUETA DELANTERA IZQUIERDA -->

    <link name='MGD_IZQ'>
      <pose relative_to='SD02_IZQ'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>-0.00497345711760122 -0.210444823308728 0.028708631857455 0 0 0</pose>
        <mass>0.66380871842496503</mass>
        <inertia>
          <ixx>0.01698734695551703</ixx>
          <ixy>-0.00083687007279527673</ixy>
          <ixz>-0.00043029889831467001</ixz>
          <iyy>0.0050539985067045894</iyy>
          <iyz>-0.0069223924605502883</iyz>
          <izz>0.01337316597985665</izz>
        </inertia>
      </inertial>

      <visual name='visual'>
        <pose>-0.11217 0.5208700000000001 -0.23886 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/MGD_IZQ.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.990196 1 1 1</diffuse>
          <ambient>0.990196 1 1 1</ambient>
        </material>
      </visual>

      <collision name='collision'>
        <pose>-0.11217 0.5208700000000001 -0.23886 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/MGD_IZQ.STL</uri>
          </mesh>
        </geometry>
      </collision> 

    </link> 

    <joint name='MGD_IZQ_SUP_joint' type='revolute'>
      <!-- <pose relative_to='SD02_IZQ'>-0.11217 0.52087 -0.23886 0 -0 0</pose> -->
      <pose relative_to='CH'>0.5819 -1.5309 0.4072 0 -0 0</pose>
      <parent>SD02_IZQ</parent>
      <child>MGD_IZQ</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-0.52</lower>
          <upper>0.52</upper>
          <effort>500000</effort>
          <velocity>1</velocity>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>

<!-- RUEDA DELANTERA IZQUIERDA -->

    <link name='ED_IZQ'>
      <pose relative_to='ED_IZQ_joint'>0 0 0 0 0 0</pose>

      <inertial>
      <!-- -0.0201678086647318 -->
        <pose>9.83891827921468e-06 0 0.00124512879040783 0 0 0</pose> 
        <mass>29.139362499072298</mass>
        <inertia>
          <ixx>0.81359465817769605</ixx>
          <ixy>6.5452223578031494e-08</ixy>
          <ixz>-6.1431454367001799e-09</ixz>
          <iyy>1.43775571114071</iyy>
          <iyz>-0.038315078867220201</iyz>
          <izz>0.81594671292084797</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <!-- <pose>0 0 0 1.5707 0 0</pose> -->
        <pose>0 0.0075 0 0 1.5707 1.5707</pose>
        <geometry>
          <cylinder>
            <radius>0.343</radius> 
            <length>0.23</length>  
          </cylinder>
        </geometry>
        <friction>
          <ode>
            <mu>1.1</mu>
            <mu2>1.1</mu2>
          </ode>
        </friction>
        <!-- <contact>
          <ode>
            <min_depth>0.001</min_depth>
            <kp>1000000000</kp>
          </ode>
        </contact> -->
      </collision>

      <visual name='visual'>
        <pose>0 0 0 1.5707 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ED_IZQ.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.1 0.1 0.1 1</diffuse>
          <ambient>0.1 0.1 0.1 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='ED_IZQ_joint' type='revolute'>
      <pose relative_to='SD02_IZQ'>-0.11217 0.5208700000000001 -0.23886 0 0 0</pose>
      <parent>MGD_IZQ</parent>
      <child>ED_IZQ</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-10000000000000000</lower>
          <upper>10000000000000000</upper>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>0.2</damping> <!-- también ayuda a la estabilidad -->
        </dynamics>
      </axis>
      <physics>
        <ode>
          <friction>
            <ode>
              <mu>0.9</mu>    <!-- Fricción en la dirección principal -->
              <mu2>0.8</mu2>  <!-- Fricción lateral -->
            </ode>
          </friction>
        </ode>
      </physics>
    </joint>

<!-- ###################### EJE TRASERO ######################-->


<!-- PISTON AMORTIGUADOR TRASERO DERECHO -->

    <link name='ST01_PISTON_DCH'>
      <pose relative_to='CH'>-0.3275 0.65618 0.79122 -1.962 0 -1.5708</pose>

      <inertial>
        <pose>0.00849916904573988 0.0657819927228204 -0.159438279696458 0 0 0</pose>
        <mass>1.6865239792604101</mass>
        <inertia>
          <ixx>0.0063338001559970197</ixx>
          <ixy>-1.45261475353967e-05</ixy>
          <ixz>3.5266726696435297e-05</ixz>
          <iyy>0.0055250803137681997</iyy>
          <iyz>0.0019468091581656001</iyz>
          <izz>0.00160836691478163</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST01_PISTON_DCH.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST01_PISTON_DCH.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='ST01_PISTON_DCH_joint' type='fixed'>
      <pose relative_to='CH'>-0.3275 0.65618 0.79122 -1.962 0 -1.5708</pose>
      <parent>CH</parent>
      <child>ST01_PISTON_DCH</child>
    </joint>


<!-- CUERPO AMORTIGUADOR TRASERO DERECHO -->

    <link name='ST01_BODY_DCH'>
      <pose relative_to='ST01_PISTON_DCH'>0 0.352 0 0 1.3806 -3.1416</pose>

      <inertial>
        <pose>0.00849916904573988 0.0657819927228204 -0.159438279696458 0 0 0</pose>
        <mass>1.6865239792604101</mass>
        <inertia>
          <ixx>0.0063338001559970197</ixx>
          <ixy>-1.45261475353967e-05</ixy>
          <ixz>3.5266726696435297e-05</ixz>
          <iyy>0.0055250803137681997</iyy>
          <iyz>0.0019468091581656001</iyz>
          <izz>0.00160836691478163</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST01_BODY_DCH.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST01_BODY_DCH.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='ST01_BODY_DCH_joint' type='prismatic'>
      <!-- <pose relative_to='CH'>0.3275 0.66468 0.79122 0 0 -1.5708</pose> -->
      <pose relative_to='ST01_PISTON_DCH'>0 0.352 0 0 1.3806 -3.1416</pose>
      <parent>ST01_PISTON_DCH</parent>
      <child>ST01_BODY_DCH</child>
      <axis>
        <xyz>0 1 0</xyz>
        <!-- <xyz>0.1596 0.8727 -0.4628</xyz> -->
        <use_parent_model_frame>false</use_parent_model_frame>
        <limit>
          <lower>0</lower>     <!-- m -->
          <upper>0.3</upper>
          <effort>4000</effort>   <!-- N -->
          <velocity>0</velocity>    <!-- Límete en m/s -->
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>15000</spring_stiffness>
        </dynamics>
      </axis>
    </joint>

<!-- BRAZO TRASERO SUSPENSION SUPERIOR DERECHO -->

    <link name='ST02_DCH'>
      <pose relative_to='ST02_DCH_CH_joint'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>0.1500001860261832 -0.2676662614145961 -0.0810993046741976 0 0 0</pose>
        <mass>1.403064128651641</mass>
        <inertia>
          <ixx>0.03070442042787137</ixx>
          <ixy>7.837911377567286e-08</ixy>
          <ixz>4.1940548251677423e-06</ixz>
          <iyy>0.0074810028604958903</iyy>
          <iyz>-0.01015721426313345</iyz>
          <izz>0.026478148856146522</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST02_DCH.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST02_DCH.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='ST02_DCH_CH_joint' type='revolute'>
      <pose relative_to='CH'>-0.19 0.80618 0.45222 0 0 -1.5708</pose>
      <parent>CH</parent>
      <child>ST02_DCH</child>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>0</lower>
          <upper>0</upper>
          <effort>0</effort>
          <velocity>0</velocity>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>

<!-- BRAZO TRASERO SUSPENSION INFERIOR DERECHO -->

    <link name='ST03_DCH'>
      <pose relative_to='ST03_DCH_CH_joint'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>0.150000000000001 -0.164533605888152 -0.0525148439282279 0 0 0</pose>
        <mass>0.34106162689435399</mass>
        <inertia>
          <ixx>0.0022793592813791399</ixx>
          <ixy>3.8011015168450297e-18</ixy>
          <ixz>2.2538659313411399e-18</ixz>
          <iyy>0.00053201044082269299</iyy>
          <iyz>-0.00062761170646999896</iyz>
          <izz>0.00233995796668447</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST03_DCH.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST03_DCH.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='ST03_DCH_CH_joint' type='revolute'>
      <pose relative_to='CH'>-0.178 0.80618 0.34222 0 0 -1.5708</pose>
      <parent>CH</parent>
      <child>ST03_DCH</child>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>0</lower>
          <upper>0</upper>
          <effort>0</effort>
          <velocity>0</velocity>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>

<!-- MANGUETA TRASERA DERECHA -->
    
    <link name='MGT_DCH'>
      <pose relative_to='ST02_DCH'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>-0.000703773718821132 0.0238865488241629 -0.000242700430142184 0 0 0</pose>
        <mass>0.66380871842496503</mass>
        <inertia>
          <ixx>0.01698734695551703</ixx>
          <ixy>-0.00083687007279527673</ixy>
          <ixz>-0.00043029889831467001</ixz>
          <iyy>0.0050539985067045894</iyy>
          <iyz>-0.0069223924605502883</iyz>
          <izz>0.01337316597985665</izz>
        </inertia>
      </inertial>
    
      <collision name='collision'>
          <pose>0.15 -0.51022 -0.14431 0 0 0</pose>
          <geometry>
            <mesh>
              <scale>1 1 1</scale>
              <uri>model://description_pkg/meshes/MGT_DCH.STL</uri>
            </mesh>
          </geometry>
        </collision>

      <visual name='visual'>
        <pose>0.15 -0.51022 -0.14431 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/MGT_DCH.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link> 

    <joint name='MGT_DCH_joint' type='fixed'>
      <pose relative_to='ST02_DCH'>0.15 -0.51022 -0.14431 0 -0 0</pose>
      <parent>ST02_DCH</parent>
      <child>MGT_DCH</child>
    </joint>

<!-- RUEDA TRASERA DERECHA -->

    <link name='ET_DCH'>
      <pose relative_to='ET_DCH_joint'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>-0.0007037737188211321 0.0238865488241629 -0.000242700430142184 0 0 0</pose>
        <mass>31.147989855422999</mass>
        <inertia>
          <ixx>0.86273332278327397</ixx>
          <ixy>-1.41751435672682e-05</ixy>
          <ixz>-6.4485089057557702e-09</ixz>
          <iyy>1.39706663655937</iyy>
          <iyz>-0.0054298463387940903</iyz>
          <izz>0.86274117439459197</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0.025 0 0 1.5707 1.5707</pose>
        <geometry>
          <cylinder>
            <radius>0.343</radius>  <!-- Radio de 0.2 m -->
            <length>0.285</length>  <!-- Altura de 0.5 m -->
          </cylinder>
        </geometry>
        <friction>
          <ode>
            <mu>1.1</mu>
            <mu2>1.1</mu2>
          </ode>
        </friction>
        <!-- <contact>
          <ode>
            <min_depth>0.001</min_depth>
            <kp>1000000000</kp>
          </ode>
        </contact> -->
      </collision>

      <visual name='visual'>
        <pose>0 0 0 1.5707 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ET_DCH.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.1 0.1 0.1 1</diffuse>
          <ambient>0.1 0.1 0.1 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='ET_DCH_joint' type='revolute'>
      <pose relative_to='ST02_DCH'>0.15 -0.51022 -0.14431 0 0 0</pose>
      <parent>ST02_DCH</parent>
      <child>ET_DCH</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-10000000000000000</lower>
          <upper>10000000000000000</upper>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>0.2</damping> <!-- también ayuda a la estabilidad -->
        </dynamics>
      </axis>
      <physics>
        <ode>
          <friction>
            <ode>
              <mu>0.9</mu>    <!-- Fricción en la dirección principal -->
              <mu2>0.8</mu2>  <!-- Fricción lateral -->
            </ode>
          </friction>
        </ode>
      </physics>
    </joint>

<!-- PISTON AMORTIGUADOR TRASERO IZQUIERDO -->

    <link name='ST01_PISTON_IZQ'>
      <pose relative_to='CH'>0.3275 0.65618 0.79122 1.962 0 1.5708</pose>

      <inertial>
        <pose>0.00849916904573988 0.0657819927228204 -0.159438279696458 0 0 0</pose>
        <mass>1.6865239792604101</mass>
        <inertia>
          <ixx>0.0063338001559970197</ixx>
          <ixy>-1.45261475353967e-05</ixy>
          <ixz>3.5266726696435297e-05</ixz>
          <iyy>0.0055250803137681997</iyy>
          <iyz>0.0019468091581656001</iyz>
          <izz>0.00160836691478163</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST01_PISTON_IZQ.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST01_PISTON_IZQ.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='ST01_PISTON_IZQ_joint' type='fixed'>
      <!-- <pose relative_to='CH'>0.3275 0.66468 0.79122 0 0 -1.5708</pose> -->
      <pose relative_to='CH'>0.3275 0.65618 0.79122 1.962 0 1.5708</pose>
      <parent>CH</parent>
      <child>ST01_PISTON_IZQ</child>
    </joint>


<!-- CUERPO AMORTIGUADOR TRASERO IZQUIERDO -->

    <link name='ST01_BODY_IZQ'>
      <pose relative_to='ST01_PISTON_IZQ'>0 -0.24964 0.24816 -1.7587 -0.77038 1.8374</pose>

      <inertial>
        <pose>0.00849916904573988 0.0657819927228204 -0.159438279696458 0 0 0</pose>
        <mass>1.6865239792604101</mass>
        <inertia>
          <ixx>0.0063338001559970197</ixx>
          <ixy>-1.45261475353967e-05</ixy>
          <ixz>3.5266726696435297e-05</ixz>
          <iyy>0.0055250803137681997</iyy>
          <iyz>0.0019468091581656001</iyz>
          <izz>0.00160836691478163</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST01_BODY_IZQ.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST01_BODY_IZQ.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='ST01_IZQ_BODY_joint' type='prismatic'>
      <!-- <pose relative_to='CH'>0.3275 0.66468 0.79122 0 0 -1.5708</pose> -->
      <pose relative_to='ST01_PISTON_IZQ'>0 -0.24964 0.24816 -1.7587 -0.77038 1.8374</pose>
      <parent>ST01_PISTON_IZQ</parent>
      <child>ST01_BODY_IZQ</child>
      <axis>
        <xyz>0 1 0</xyz>
        <!-- <xyz>0.1596 0.8727 -0.4628</xyz> -->
        <use_parent_model_frame>false</use_parent_model_frame>
        <limit>
          <lower>0</lower>     <!-- m -->
          <upper>0.3</upper>
          <effort>4000</effort>   <!-- N -->
          <velocity>0</velocity>    <!-- Límete en m/s -->
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>15000</spring_stiffness>
        </dynamics>
      </axis>
    </joint>


<!-- BRAZO TRASERO SUSPENSION SUPERIOR IZQUIERDO -->

    <link name='ST02_IZQ'>
      <pose relative_to='ST02_IZQ_CH_joint'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>0.150000005167412 0.17487915113979 -0.0332493411124752 0 0 0</pose>
        <mass>0.81678290918779095</mass>
        <inertia>
          <ixx>0.0080584754168778402</ixx>
          <ixy>9.9404259756486797e-10</ixy>
          <ixz>4.3932726784710001e-09</ixz>
          <iyy>0.00136969060130727</iyy>
          <iyz>0.00150446688084042</iyz>
          <izz>0.0086951472225705196</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST02_IZQ.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST02_IZQ.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='ST02_IZQ_CH_joint' type='revolute'>
      <pose relative_to='CH'>0.19 0.80618 0.45222 0 0 -1.5708</pose>
      <parent>CH</parent>
      <child>ST02_IZQ</child>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>0</lower>
          <upper>0</upper>
          <effort>0</effort>
          <velocity>0</velocity>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>

<!-- BRAZO TRASERO SUSPENSION INFERIOR IZQUIERDO -->

    <link name='ST03_IZQ'>
      <pose relative_to='ST03_IZQ_CH_joint'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>0.149999999999999 0.164533605888154 -0.0525148439282281 0 0 0</pose>
        <mass>0.34106162689435499</mass>
        <inertia>
          <ixx>0.0022793592813791499</ixx>
          <ixy>9.8642341037799605e-18</ixy>
          <ixz>-2.42692932918681e-18</ixz>
          <iyy>0.00053201044082269396</iyy>
          <iyz>0.000627611706470002</iyz>
          <izz>0.00233995796668448</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST03_IZQ.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ST03_IZQ.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='ST03_IZQ_CH_joint' type='revolute'>
      <pose relative_to='CH'>0.178 0.80618 0.34222 0 0 -1.5708</pose>
      <parent>CH</parent>
      <child>ST03_IZQ</child>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>0</lower>
          <upper>0</upper>
          <effort>0</effort>
          <velocity>0</velocity>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>

<!-- MANGUETA TRASERA IZQUIERDA -->

    <link name='MGT_IZQ'>
      <pose relative_to='ST02_IZQ'>0.15 0.35805 -0.078868 -1.5708 1.5606 1.5708</pose>

      <inertial>
        <pose>0.0699882193922642 -0.0306022880155127 3.91468086502478E-07 0 0 0</pose>
        <mass>0.66380871842496503</mass>
        <inertia>
          <ixx>0.01698734695551703</ixx>
          <ixy>-0.00083687007279527673</ixy>
          <ixz>-0.00043029889831467001</ixz>
          <iyy>0.0050539985067045894</iyy>
          <iyz>-0.0069223924605502883</iyz>
          <izz>0.01337316597985665</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/MGT_IZQ.STL</uri>
          </mesh>
        </geometry>
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/MGT_IZQ.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.941176 0.941176 0.941176 1</diffuse>
          <ambient>0.941176 0.941176 0.941176 1</ambient>
        </material>
      </visual>

    </link> 

    <joint name='MGT_IZQ_joint' type='fixed'>
      <pose relative_to='ST02_IZQ'>0 -0.20929 0.36039 1.5708 -1.3673 -1.5708</pose>
      <parent>ST02_IZQ</parent>
      <child>MGT_IZQ</child>
    </joint>

<!-- RUEDA TRASERA IZQUIERDA -->

    <link name='ET_IZQ'>
      <pose relative_to='ET_IZQ_joint'>0 0 0 0 0 0</pose>

      <inertial>
        <pose>-0.0007037737188211321 0.0238865488241629 -0.000242700430142184 0 0 0</pose>
        <mass>31.147989855422999</mass>
        <inertia>
          <ixx>0.86273332278327397</ixx>
          <ixy>-1.41751435672682e-05</ixy>
          <ixz>-6.4485089057557702e-09</ixz>
          <iyy>1.39706663655937</iyy>
          <iyz>-0.0054298463387940903</iyz>
          <izz>0.86274117439459197</izz>
        </inertia>
      </inertial>

      <collision name='collision'>
        <pose>0 -0.038 0 0 1.5707 1.5707</pose>
        <geometry>
          <cylinder>
            <radius>0.343</radius>  <!-- Radio de 0.2 m -->
            <length>0.285</length>  <!-- Altura de 0.5 m -->
          </cylinder>
        </geometry>
        <friction>
          <ode>
            <mu>1.1</mu>
            <mu2>1.1</mu2>
          </ode>
        </friction>
        <!-- <contact>
          <ode>
            <min_depth>0.001</min_depth>
            <kp>1000000000</kp>
          </ode>
        </contact> -->
      </collision>

      <visual name='visual'>
        <pose>0 0 0 0 0 0 </pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://description_pkg/meshes/ET_IZQ.STL</uri>
          </mesh>
        </geometry>
        <material>
          <diffuse>0.1 0.1 0.1 1</diffuse>
          <ambient>0.1 0.1 0.1 1</ambient>
        </material>
      </visual>

    </link>

    <joint name='ET_IZQ_joint' type='revolute'>
      <pose relative_to='MGT_IZQ'>0.067 -0.144 0 3.1314 1.5708 0</pose>
      <parent>MGT_IZQ</parent>
      <child>ET_IZQ</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-10000000000000000</lower>
          <upper>10000000000000000</upper>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>0.2</damping> <!-- también ayuda a la estabilidad -->
        </dynamics>
      </axis>
      <physics>
        <ode>
          <friction>
            <ode>
              <mu>0.9</mu>    <!-- Fricción en la dirección principal -->
              <mu2>0.8</mu2>  <!-- Fricción lateral -->
            </ode>
          </friction>
        </ode>
      </physics>
    </joint>

<!-- ###################### PLUGIN ######################-->

    <plugin filename="libignition-gazebo-ackermann-steering-system.so" name="ignition::gazebo::systems::AckermannSteering">

      <left_steering_joint>MGD_IZQ_SUP_joint</left_steering_joint>
      <left_joint>ED_IZQ_joint</left_joint>
      <right_steering_joint>MGD_DCH_SUP_joint</right_steering_joint>
      <right_joint>ED_DCH_joint</right_joint>

      <left_joint>ET_IZQ_joint</left_joint>
      <right_joint>ET_DCH_joint</right_joint>  

      <wheel_separation>1.41</wheel_separation> 
      <wheel_radius>0.343</wheel_radius>
      <min_velocity>-15.0</min_velocity> 
      <max_velocity>15.0</max_velocity>
      <min_acceleration>-0.5</min_acceleration>
      <max_acceleration>0.5</max_acceleration> 
      <!-- <wheel_base>0.895</wheel_base>  -->

      <!-- <frame_id>odom</frame_id>
        <child_frame_id>base_footprint</child_frame_id>
        <odom_topic>odom</odom_topic>
        <odom_publish_frequency>50</odom_publish_frequency> -->

        <!-- <tf_topic>/tf</tf_topic> -->

      <topic>cmd_vel</topic> 

    </plugin>

  </model>

</sdf>
